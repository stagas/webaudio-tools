

<h1>
webaudio-tools <a href="https://npmjs.org/package/webaudio-tools"><img src="https://img.shields.io/badge/npm-v2.1.0-F00.svg?colorA=000"/></a> <a href="src"><img src="https://img.shields.io/badge/loc-198-FFF.svg?colorA=000"/></a> <a href="https://cdn.jsdelivr.net/npm/webaudio-tools@2.1.0/dist/webaudio-tools.min.js"><img src="https://img.shields.io/badge/brotli-1.5K-333.svg?colorA=000"/></a> <a href="LICENSE"><img src="https://img.shields.io/badge/license-MIT-F0B.svg?colorA=000"/></a>
</h1>

<p></p>

Useful tools for WebAudio.

<h4>
<table><tr><td title="Triple click to select and copy paste">
<code>npm i webaudio-tools </code>
</td><td title="Triple click to select and copy paste">
<code>pnpm add webaudio-tools </code>
</td><td title="Triple click to select and copy paste">
<code>yarn add webaudio-tools</code>
</td></tr></table>
</h4>


## API

<p>  <details id="MIDIMessageEvent$46" title="Class" ><summary><span><a href="#MIDIMessageEvent$46">#</a></span>  <code><strong>MIDIMessageEvent</strong></code>    </summary>  <a href=""></a>  <ul>        <p>  <details id="constructor$47" title="Constructor" ><summary><span><a href="#constructor$47">#</a></span>  <code><strong>constructor</strong></code><em>(type, { data })</em>    </summary>  <a href=""></a>  <ul>    <p>  <details id="new MIDIMessageEvent$48" title="ConstructorSignature" ><summary><span><a href="#new MIDIMessageEvent$48">#</a></span>  <code><strong>new MIDIMessageEvent</strong></code><em>()</em>    </summary>    <ul><p><a href="#MIDIMessageEvent$46">MIDIMessageEvent</a></p>      <p>  <details id="type$49" title="Parameter" ><summary><span><a href="#type$49">#</a></span>  <code><strong>type</strong></code>    </summary>    <ul><p>string</p>        </ul></details><details id="payload$50" title="Parameter" ><summary><span><a href="#payload$50">#</a></span>  <code><strong>payload</strong></code>    </summary>    <ul><p>{<p>  <details id="data$52" title="Property" ><summary><span><a href="#data$52">#</a></span>  <code><strong>data</strong></code>    </summary>  <a href=""></a>  <ul><p><span>Uint8Array</span></p>        </ul></details></p>}</p>        </ul></details></p>  </ul></details></p>    </ul></details><details id="data$53" title="Property" ><summary><span><a href="#data$53">#</a></span>  <code><strong>data</strong></code>    </summary>  <a href=""></a>  <ul><p><span>Uint8Array</span></p>        </ul></details><details id="receivedTime$55" title="Property" ><summary><span><a href="#receivedTime$55">#</a></span>  <code><strong>receivedTime</strong></code>    </summary>  <a href=""></a>  <ul><p>number</p>        </ul></details><details id="type$54" title="Property" ><summary><span><a href="#type$54">#</a></span>  <code><strong>type</strong></code>    </summary>  <a href=""></a>  <ul><p>string</p>        </ul></details></p></ul></details><details id="PeakingDetectorNode$66" title="Class" ><summary><span><a href="#PeakingDetectorNode$66">#</a></span>  <code><strong>PeakingDetectorNode</strong></code>    </summary>  <a href=""></a>  <ul>        <p>  <details id="constructor$67" title="Constructor" ><summary><span><a href="#constructor$67">#</a></span>  <code><strong>constructor</strong></code><em>(ctx)</em>    </summary>  <a href=""></a>  <ul>    <p>  <details id="new PeakingDetectorNode$68" title="ConstructorSignature" ><summary><span><a href="#new PeakingDetectorNode$68">#</a></span>  <code><strong>new PeakingDetectorNode</strong></code><em>()</em>    </summary>    <ul><p><a href="#PeakingDetectorNode$66">PeakingDetectorNode</a></p>      <p>  <details id="ctx$69" title="Parameter" ><summary><span><a href="#ctx$69">#</a></span>  <code><strong>ctx</strong></code>    </summary>    <ul><p><span>BaseAudioContext</span></p>        </ul></details></p>  </ul></details></p>    </ul></details><details id="decibelsThreshold$71" title="Property" ><summary><span><a href="#decibelsThreshold$71">#</a></span>  <code><strong>decibelsThreshold</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>-1</code></span>  </summary>  <a href=""></a>  <ul><p>number</p>        </ul></details><details id="isPeaking$70" title="Property" ><summary><span><a href="#isPeaking$70">#</a></span>  <code><strong>isPeaking</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>false</code></span>  </summary>  <a href=""></a>  <ul><p>boolean</p>        </ul></details><details id="onpeaking$72" title="Method" ><summary><span><a href="#onpeaking$72">#</a></span>  <code><strong>onpeaking</strong></code><em>()</em>    </summary>  <a href=""></a>  <ul>    <p>      <p><strong>onpeaking</strong><em>()</em>  &nbsp;=&gt;  <ul>void</ul></p></p>    </ul></details><details id="reset$75" title="Method" ><summary><span><a href="#reset$75">#</a></span>  <code><strong>reset</strong></code><em>()</em>    </summary>  <a href=""></a>  <ul>    <p>      <p><strong>reset</strong><em>()</em>  &nbsp;=&gt;  <ul>void</ul></p></p>    </ul></details></p></ul></details><details id="PipeNode$1" title="Class" ><summary><span><a href="#PipeNode$1">#</a></span>  <code><strong>PipeNode</strong></code>    </summary>  <a href=""></a>  <ul>        <p>  <details id="constructor$12" title="Constructor" ><summary><span><a href="#constructor$12">#</a></span>  <code><strong>constructor</strong></code><em>(context, options)</em>    </summary>  <a href=""></a>  <ul>    <p>  <details id="new PipeNode$13" title="ConstructorSignature" ><summary><span><a href="#new PipeNode$13">#</a></span>  <code><strong>new PipeNode</strong></code><em>()</em>    </summary>    <ul><p><a href="#PipeNode$1">PipeNode</a></p>      <p>  <details id="context$14" title="Parameter" ><summary><span><a href="#context$14">#</a></span>  <code><strong>context</strong></code>    </summary>    <ul><p><span>BaseAudioContext</span></p>        </ul></details><details id="options$15" title="Parameter" ><summary><span><a href="#options$15">#</a></span>  <code><strong>options</strong></code>    </summary>    <ul><p><span>AudioWorkletNodeOptions</span> &amp; {<p>  <details id="port$17" title="Property" ><summary><span><a href="#port$17">#</a></span>  <code><strong>port</strong></code>    </summary>  <a href=""></a>  <ul><p><span>MessagePort</span></p>        </ul></details></p>}</p>        </ul></details></p>  </ul></details></p>    </ul></details><details id="context$18" title="Property" ><summary><span><a href="#context$18">#</a></span>  <code><strong>context</strong></code>    </summary>  <a href=""></a>  <ul><p><span>BaseAudioContext</span></p>        </ul></details><details id="options$19" title="Property" ><summary><span><a href="#options$19">#</a></span>  <code><strong>options</strong></code>    </summary>  <a href=""></a>  <ul><p><span>AudioWorkletNodeOptions</span> &amp; {<p>  <details id="port$21" title="Property" ><summary><span><a href="#port$21">#</a></span>  <code><strong>port</strong></code>    </summary>  <a href=""></a>  <ul><p><span>MessagePort</span></p>        </ul></details></p>}</p>        </ul></details><details id="rpc$22" title="Property" ><summary><span><a href="#rpc$22">#</a></span>  <code><strong>rpc</strong></code>    </summary>  <a href=""></a>  <ul><p><span>Rpc</span></p>        </ul></details><details id="registeredContexts$2" title="Property" ><summary><span><a href="#registeredContexts$2">#</a></span>  <code><strong>registeredContexts</strong></code>    </summary>  <a href=""></a>  <ul><p><span>Set</span>&lt;<span>BaseAudioContext</span>&gt;</p>        </ul></details><details id="create$6" title="Method" ><summary><span><a href="#create$6">#</a></span>  <code><strong>create</strong></code><em>(context, options)</em>    </summary>  <a href=""></a>  <ul>    <p>    <details id="context$8" title="Parameter" ><summary><span><a href="#context$8">#</a></span>  <code><strong>context</strong></code>    </summary>    <ul><p><span>BaseAudioContext</span></p>        </ul></details><details id="options$9" title="Parameter" ><summary><span><a href="#options$9">#</a></span>  <code><strong>options</strong></code>    </summary>    <ul><p><span>AudioWorkletNodeOptions</span> &amp; {<p>  <details id="port$11" title="Property" ><summary><span><a href="#port$11">#</a></span>  <code><strong>port</strong></code>    </summary>  <a href=""></a>  <ul><p><span>MessagePort</span></p>        </ul></details></p>}</p>        </ul></details>  <p><strong>create</strong><em>(context, options)</em>  &nbsp;=&gt;  <ul><span>Promise</span>&lt;<a href="#PipeNode$1">PipeNode</a>&gt;</ul></p></p>    </ul></details><details id="register$3" title="Method" ><summary><span><a href="#register$3">#</a></span>  <code><strong>register</strong></code><em>(context)</em>    </summary>  <a href=""></a>  <ul>    <p>    <details id="context$5" title="Parameter" ><summary><span><a href="#context$5">#</a></span>  <code><strong>context</strong></code>    </summary>    <ul><p><span>BaseAudioContext</span></p>        </ul></details>  <p><strong>register</strong><em>(context)</em>  &nbsp;=&gt;  <ul><span>Promise</span>&lt;void&gt;</ul></p></p>    </ul></details></p></ul></details><details id="SilenceDetectorNode$77" title="Class" ><summary><span><a href="#SilenceDetectorNode$77">#</a></span>  <code><strong>SilenceDetectorNode</strong></code>    </summary>  <a href=""></a>  <ul>        <p>  <details id="constructor$88" title="Constructor" ><summary><span><a href="#constructor$88">#</a></span>  <code><strong>constructor</strong></code><em>(context, options)</em>    </summary>  <a href=""></a>  <ul>    <p>  <details id="new SilenceDetectorNode$89" title="ConstructorSignature" ><summary><span><a href="#new SilenceDetectorNode$89">#</a></span>  <code><strong>new SilenceDetectorNode</strong></code><em>()</em>    </summary>    <ul><p><a href="#SilenceDetectorNode$77">SilenceDetectorNode</a></p>      <p>  <details id="context$90" title="Parameter" ><summary><span><a href="#context$90">#</a></span>  <code><strong>context</strong></code>    </summary>    <ul><p><span>BaseAudioContext</span></p>        </ul></details><details id="options$91" title="Parameter" ><summary><span><a href="#options$91">#</a></span>  <code><strong>options</strong></code>    </summary>    <ul><p><span>AudioWorkletNodeOptions</span> &amp; {<p>  <details id="processorOptions$93" title="Property" ><summary><span><a href="#processorOptions$93">#</a></span>  <code><strong>processorOptions</strong></code>    </summary>  <a href=""></a>  <ul><p><span>Partial</span>&lt;<span>SilenceDetectorOptions</span>&gt;</p>        </ul></details></p>}</p>        </ul></details></p>  </ul></details></p>    </ul></details><details id="isSilent$98" title="Property" ><summary><span><a href="#isSilent$98">#</a></span>  <code><strong>isSilent</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>true</code></span>  </summary>  <a href=""></a>  <ul><p>boolean</p>        </ul></details><details id="hasRegistered$78" title="Property" ><summary><span><a href="#hasRegistered$78">#</a></span>  <code><strong>hasRegistered</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>false</code></span>  </summary>  <a href=""></a>  <ul><p>boolean</p>        </ul></details><details id="onplaying$96" title="Method" ><summary><span><a href="#onplaying$96">#</a></span>  <code><strong>onplaying</strong></code><em>()</em>    </summary>  <a href=""></a>  <ul>    <p>      <p><strong>onplaying</strong><em>()</em>  &nbsp;=&gt;  <ul>void</ul></p></p>    </ul></details><details id="onsilence$94" title="Method" ><summary><span><a href="#onsilence$94">#</a></span>  <code><strong>onsilence</strong></code><em>()</em>    </summary>  <a href=""></a>  <ul>    <p>      <p><strong>onsilence</strong><em>()</em>  &nbsp;=&gt;  <ul>void</ul></p></p>    </ul></details><details id="create$82" title="Method" ><summary><span><a href="#create$82">#</a></span>  <code><strong>create</strong></code><em>(context, options)</em>    </summary>  <a href=""></a>  <ul>    <p>    <details id="context$84" title="Parameter" ><summary><span><a href="#context$84">#</a></span>  <code><strong>context</strong></code>    </summary>    <ul><p><span>BaseAudioContext</span></p>        </ul></details><details id="options$85" title="Parameter" ><summary><span><a href="#options$85">#</a></span>  <code><strong>options</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>{}</code></span>  </summary>    <ul><p><span>AudioWorkletNodeOptions</span> &amp; {<p>  <details id="processorOptions$87" title="Property" ><summary><span><a href="#processorOptions$87">#</a></span>  <code><strong>processorOptions</strong></code>    </summary>  <a href=""></a>  <ul><p><span>Partial</span>&lt;<span>SilenceDetectorOptions</span>&gt;</p>        </ul></details></p>}</p>        </ul></details>  <p><strong>create</strong><em>(context, options)</em>  &nbsp;=&gt;  <ul><span>Promise</span>&lt;<a href="#SilenceDetectorNode$77">SilenceDetectorNode</a>&gt;</ul></p></p>    </ul></details><details id="register$79" title="Method" ><summary><span><a href="#register$79">#</a></span>  <code><strong>register</strong></code><em>(context)</em>    </summary>  <a href=""></a>  <ul>    <p>    <details id="context$81" title="Parameter" ><summary><span><a href="#context$81">#</a></span>  <code><strong>context</strong></code>    </summary>    <ul><p><span>BaseAudioContext</span></p>        </ul></details>  <p><strong>register</strong><em>(context)</em>  &nbsp;=&gt;  <ul><span>Promise</span>&lt;void&gt;</ul></p></p>    </ul></details></p></ul></details><details id="MidiOp$42" title="Variable" ><summary><span><a href="#MidiOp$42">#</a></span>  <code><strong>MidiOp</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>...</code></span>  </summary>  <a href=""></a>  <ul><p>{<p>  <details id="NoteOff$44" title="Property" ><summary><span><a href="#NoteOff$44">#</a></span>  <code><strong>NoteOff</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>0x80</code></span>  </summary>  <a href=""></a>  <ul><p>number</p>        </ul></details><details id="NoteOn$45" title="Property" ><summary><span><a href="#NoteOn$45">#</a></span>  <code><strong>NoteOn</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>0x90</code></span>  </summary>  <a href=""></a>  <ul><p>number</p>        </ul></details></p>}</p>        </ul></details><details id="createMidiEvent$56" title="Function" ><summary><span><a href="#createMidiEvent$56">#</a></span>  <code><strong>createMidiEvent</strong></code><em>(time, data)</em>    </summary>  <a href=""></a>  <ul>    <p>    <details id="time$58" title="Parameter" ><summary><span><a href="#time$58">#</a></span>  <code><strong>time</strong></code>    </summary>    <ul><p>number</p>        </ul></details><details id="data$59" title="Parameter" ><summary><span><a href="#data$59">#</a></span>  <code><strong>data</strong></code>    </summary>    <ul><p>number  []</p>        </ul></details>  <p><strong>createMidiEvent</strong><em>(time, data)</em>  &nbsp;=&gt;  <ul><span>MIDIMessageEvent</span></ul></p></p>    </ul></details><details id="createMidiNoteEvents$60" title="Function" ><summary><span><a href="#createMidiNoteEvents$60">#</a></span>  <code><strong>createMidiNoteEvents</strong></code><em>(time, note, velocity, length)</em>    </summary>  <a href=""></a>  <ul>    <p>    <details id="time$62" title="Parameter" ><summary><span><a href="#time$62">#</a></span>  <code><strong>time</strong></code>    </summary>    <ul><p>number</p>        </ul></details><details id="note$63" title="Parameter" ><summary><span><a href="#note$63">#</a></span>  <code><strong>note</strong></code>    </summary>    <ul><p>number</p>        </ul></details><details id="velocity$64" title="Parameter" ><summary><span><a href="#velocity$64">#</a></span>  <code><strong>velocity</strong></code>    </summary>    <ul><p>number</p>        </ul></details><details id="length$65" title="Parameter" ><summary><span><a href="#length$65">#</a></span>  <code><strong>length</strong></code>    </summary>    <ul><p>number</p>        </ul></details>  <p><strong>createMidiNoteEvents</strong><em>(time, note, velocity, length)</em>  &nbsp;=&gt;  <ul><span>MIDIMessageEvent</span>  []</ul></p></p>    </ul></details><details id="dbToFloat$23" title="Function" ><summary><span><a href="#dbToFloat$23">#</a></span>  <code><strong>dbToFloat</strong></code><em>(db)</em>    </summary>  <a href=""></a>  <ul>    <p>    <details id="db$25" title="Parameter" ><summary><span><a href="#db$25">#</a></span>  <code><strong>db</strong></code>    </summary>    <ul><p>number</p>        </ul></details>  <p><strong>dbToFloat</strong><em>(db)</em>  &nbsp;=&gt;  <ul>number</ul></p></p>    </ul></details><details id="fetchAudioBuffer$29" title="Function" ><summary><span><a href="#fetchAudioBuffer$29">#</a></span>  <code><strong>fetchAudioBuffer</strong></code><em>(ctx, url)</em>    </summary>  <a href=""></a>  <ul>    <p>    <details id="ctx$31" title="Parameter" ><summary><span><a href="#ctx$31">#</a></span>  <code><strong>ctx</strong></code>    </summary>    <ul><p><span>AudioContext</span></p>        </ul></details><details id="url$32" title="Parameter" ><summary><span><a href="#url$32">#</a></span>  <code><strong>url</strong></code>    </summary>    <ul><p>string</p>        </ul></details>  <p><strong>fetchAudioBuffer</strong><em>(ctx, url)</em>  &nbsp;=&gt;  <ul><span>Promise</span>&lt;<span>AudioBuffer</span>&gt;</ul></p></p>    </ul></details><details id="fftLogIndexer$33" title="Function" ><summary><span><a href="#fftLogIndexer$33">#</a></span>  <code><strong>fftLogIndexer</strong></code><em>(minFreq, maxFreq, sampleRate, fftSize)</em>    </summary>  <a href=""></a>  <ul>    <p>    <details id="minFreq$35" title="Parameter" ><summary><span><a href="#minFreq$35">#</a></span>  <code><strong>minFreq</strong></code>    </summary>    <ul><p>number</p>        </ul></details><details id="maxFreq$36" title="Parameter" ><summary><span><a href="#maxFreq$36">#</a></span>  <code><strong>maxFreq</strong></code>    </summary>    <ul><p>number</p>        </ul></details><details id="sampleRate$37" title="Parameter" ><summary><span><a href="#sampleRate$37">#</a></span>  <code><strong>sampleRate</strong></code>    </summary>    <ul><p>number</p>        </ul></details><details id="fftSize$38" title="Parameter" ><summary><span><a href="#fftSize$38">#</a></span>  <code><strong>fftSize</strong></code>    </summary>    <ul><p>number</p>        </ul></details>  <p><strong>fftLogIndexer</strong><em>(minFreq, maxFreq, sampleRate, fftSize)</em>  &nbsp;=&gt;  <ul><details id="__type$39" title="Function" ><summary><span><a href="#__type$39">#</a></span>  <em>(normal)</em>    </summary>    <ul>    <p>    <details id="normal$41" title="Parameter" ><summary><span><a href="#normal$41">#</a></span>  <code><strong>normal</strong></code>    </summary>    <ul><p>number</p>        </ul></details>  <p><strong></strong><em>(normal)</em>  &nbsp;=&gt;  <ul>number</ul></p></p>    </ul></details></ul></p></p>    </ul></details><details id="floatToDb$26" title="Function" ><summary><span><a href="#floatToDb$26">#</a></span>  <code><strong>floatToDb</strong></code><em>(float)</em>    </summary>  <a href=""></a>  <ul>    <p>    <details id="float$28" title="Parameter" ><summary><span><a href="#float$28">#</a></span>  <code><strong>float</strong></code>    </summary>    <ul><p>number</p>        </ul></details>  <p><strong>floatToDb</strong><em>(float)</em>  &nbsp;=&gt;  <ul>number</ul></p></p>    </ul></details></p>

## Credits
- [pipe-processor](https://npmjs.org/package/pipe-processor) by [stagas](https://github.com/stagas) &ndash; AudioWorklet that pipes its output to a given message port.

## Contributing

[Fork](https://github.com/stagas/webaudio-tools/fork) or [edit](https://github.dev/stagas/webaudio-tools) and submit a PR.

All contributions are welcome!

## License

<a href="LICENSE">MIT</a> &copy; 2023 [stagas](https://github.com/stagas)
